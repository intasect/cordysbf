<!--
	This file has the targets for publishing the different components to runtime.
	Right now only studio-bpms and studio-xforms can be published.	
-->
<project name="publish-content-project" default="toruntime-all">
	<import file="${sdk.build.framework.dir}/content-filters.xml" />

	<!--Target for importing contents from File System to ECX -->
  	<target name="toruntime-all"
  			description="This target publishes all content to the runtime environment in Cordys.">
  		<check-cordys-operation contenttype="all" operation="toruntime" />
  		
    	<contentmanager
 	    	organization="${content.org}"
	    	userdn="${content.userdn}"
   			operation="publish"
   			filter="${content.filter}"
   			host="${ldap.server}"
	    	port="${ldap.port}"
	    	password="${ldap.password}"
	    	username="${ldap.user}"
   		>
    		<content type="studio-xforms" dir="${src.content.studio}/xforms" />
    		<content type="studio-bpms" dir="${src.content.studio}/flows">
				<patternset refid="studio.bpm.path.filter" />
			</content>
			<content type="xreports" dir="${src.content.xreports}">
   				<patternset refid="xreports.path.filter" />
   			</content>
    	</contentmanager>
  	</target>
	
	<!-- 
		Target for publishing the Studio BPMS content to the runtime environment.
	-->
	<target name="toruntime-flows" 
  			description="This target publishes the business processes to the runtime environment in Cordys.">
		<check-cordys-operation contenttype="flows" operation="toruntime" />
  				
    	<contentmanager
 	    	organization="${content.org}"
	    	userdn="${content.userdn}"
   			operation="publish"
   			filter=""
   			host="${ldap.server}"
	    	port="${ldap.port}"
	    	password="${ldap.password}"
	    	username="${ldap.user}"
   		>
			<content type="studio-bpms" dir="${src.content.studio}/flows">
				<patternset refid="studio.bpm.path.filter" />
			</content>
    	</contentmanager>
  	</target>

	<target name="toruntime-xreports" 
  			description="This target publishes the XReports to the runtime environment in Cordys.">
		<check-cordys-operation contenttype="xreports" operation="toruntime" />
  				
    	<contentmanager
 	    	organization="${content.org}"
	    	userdn="${content.userdn}"
   			operation="publish"
   			filter=""
   			host="${ldap.server}"
	    	port="${ldap.port}"
	    	password="${ldap.password}"
	    	username="${ldap.user}"
   		>
			<content type="xreports" dir="${src.content.xreports}">
   				<patternset refid="xreports.path.filter" />
   			</content>
    	</contentmanager>
  	</target>
	
	<!-- 
		Target for publishing the Studio XForms content to the runtime environment.
	-->
	<target name="toruntime-xforms" 
  			description="This target publishes the xforms to the runtime environment in Cordys.">
		<check-cordys-operation contenttype="xforms" operation="toruntime" />
			
    	<contentmanager
 	    	organization="${content.org}"
	    	userdn="${content.userdn}"
   			operation="publish"
   			filter=""
   			host="${ldap.server}"
	    	port="${ldap.port}"
	    	password="${ldap.password}"
	    	username="${ldap.user}"
   		>
			<content type="studio-xforms" dir="${src.content.studio}/xforms" />
    	</contentmanager>
  	</target>	
</project>