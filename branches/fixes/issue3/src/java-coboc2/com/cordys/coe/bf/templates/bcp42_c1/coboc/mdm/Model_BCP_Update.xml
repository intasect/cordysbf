<binding-template>
	<!--  Used only for updates -->
	<beans>
		<bean beanid="default" class="com.cordys.coe.bf.content.types.coboc.mdm.Model" />
		<bean beanid="model-backend" class="com.cordys.coe.bf.content.types.coboc.mdm.ModelBackendRef" />		
		<bean beanid="model-backend-entity" class="com.cordys.coe.bf.content.types.coboc.mdm.ModelBackendEntityRef" />		
		<bean beanid="model-link" class="com.cordys.coe.bf.content.types.coboc.mdm.ModelLink" />		
	</beans>

	<handlers>
		<handler type="coboctuple" xmlpath="." keepchildren="true"  />
		<handler type="bean" beanid="default" xmlpath="@key" fieldname="key"  />
		<handler type="bean" beanid="default" xmlpath="@template" fieldname="templateKey"  />
		<handler type="bean" beanid="default" xmlpath="@name" fieldname="name"  />
		<handler type="bean" beanid="default" xmlpath="@lastModified" fieldname="lastModified" params="skip-insert" />	
		<handler type="bean" beanid="default" xmlpath="old/ENTITY/ENTITY_ID" fieldname="objectId"  />	
		<handler type="bean" beanid="default" xmlpath="new/ENTITY/ENTITY_NAME" fieldname="name"  />		
		<handler type="bean" beanid="default" xmlpath="new/ENTITY/DESCRIPTION" fieldname="description"  />
		<handler type="bean" beanid="default" xmlpath="new/ENTITY/OBJECT/model/documentProperties" fieldname="documentProperties" xmlfield="true"/>
		<handler type="bean" beanid="default" xmlpath="new/ENTITY/OBJECT/model/content/model/receiverdn" fieldname="receiverDn"/>
		<handler type="bean" beanid="default" xmlpath="new/ENTITY/OBJECT/model/content/model/processordn" fieldname="processorDn"/>		
		<handler type="bean" beanid="default" xmlpath="new/ENTITY/OBJECT/model/content/model/description" fieldname="modelDescription"/>
		<handler type="bean" beanid="default" xmlpath="new/ENTITY/OBJECT/model/content/model/hubname" fieldname="hubName" keepchildren="true"/>
		<handler type="bean" beanid="default" xmlpath="new/ENTITY/OBJECT/model/content/model/hubname/@entity_id" fieldname="hubHandle.objectId"/>		
		<handler type="bean" beanid="default" xmlpath="new/ENTITY/OBJECT/model/content/backends/backend" fieldname="backendRefs" fieldbean="model-backend" keepchildren="true"/>
		<handler type="bean" beanid="model-backend" xmlpath="new/ENTITY/OBJECT/model/content/backends/backend/@entity_id" fieldname="objectId" />
		<handler type="bean" beanid="model-backend" xmlpath="new/ENTITY/OBJECT/model/content/backends/backend/@top" fieldname="top" />
		<handler type="bean" beanid="model-backend" xmlpath="new/ENTITY/OBJECT/model/content/backends/backend/@left" fieldname="left" />
		<handler type="bean" beanid="model-backend" xmlpath="new/ENTITY/OBJECT/model/content/backends/backend/@height" fieldname="height" />
		<handler type="bean" beanid="model-backend" xmlpath="new/ENTITY/OBJECT/model/content/backends/backend/@width" fieldname="width" />
		<handler type="bean" beanid="model-backend" xmlpath="new/ENTITY/OBJECT/model/content/backends/backend/entities/entity" fieldname="entityRefs" fieldbean="model-backend-entity" keepchildren="true" />
		<handler type="bean" beanid="model-backend-entity" xmlpath="new/ENTITY/OBJECT/model/content/backends/backend/entities/entity/@entity_id" fieldname="objectId" />		
		<handler type="bean" beanid="model-backend" xmlpath="new/ENTITY/OBJECT/model/content/backends/backend/entities/complexrelations/@backendname" fieldname="complexRelationsBackend" params="skip-empty"/>				
		<handler type="bean" beanid="default" xmlpath="new/ENTITY/OBJECT/model/content/links/link" fieldname="links" fieldbean="model-link" keepchildren="true" />		
		<handler type="bean" beanid="model-link" xmlpath="new/ENTITY/OBJECT/model/content/links/link/sod" fieldname="sodName" keepchildren="true" />		
		<handler type="bean" beanid="model-link" xmlpath="new/ENTITY/OBJECT/model/content/links/link/sod/@entity_id" fieldname="sodHandle.objectId" />				
		<handler type="bean" beanid="model-link" xmlpath="new/ENTITY/OBJECT/model/content/links/link/sod/@type" fieldname="sodType" />				
		<handler type="bean" beanid="model-link" xmlpath="new/ENTITY/OBJECT/model/content/links/link/sodentity" fieldname="sodEntityName" keepchildren="true" />		
		<handler type="bean" beanid="model-link" xmlpath="new/ENTITY/OBJECT/model/content/links/link/sodentity/@entity_id" fieldname="sodEntityHandle.objectId" />				
		<handler type="bean" beanid="model-link" xmlpath="new/ENTITY/OBJECT/model/content/links/link/sodentity/@templatelocation" fieldname="sodEntityTemplate" />				
		<handler type="bean" beanid="model-link" xmlpath="new/ENTITY/OBJECT/model/content/links/link/codentity" fieldname="codEntityName" keepchildren="true" />		
		<handler type="bean" beanid="model-link" xmlpath="new/ENTITY/OBJECT/model/content/links/link/codentity/@entity_id" fieldname="codEntityHandle.objectId" />				
		<handler type="bean" beanid="model-link" xmlpath="new/ENTITY/OBJECT/model/content/links/link/codentity/@templatelocation" fieldname="codEntityTemplate" />				
		<handler type="bean" beanid="model-link" xmlpath="new/ENTITY/OBJECT/model/content/links/link/subscription" fieldname="subscription" xmlfield="true" />		
	</handlers>	
	
	<template>
		<tuple key="" template="" version="organization" lastModified="" name="">
			<old>
				<ENTITY>
					<ENTITY_ID></ENTITY_ID>
				</ENTITY>
			</old>
			<new>
				<ENTITY>
					<ENTITY_NAME></ENTITY_NAME>
					<DESCRIPTION></DESCRIPTION>
					<OBJECT>
						<model>
			                <documentProperties>
			                  <name></name>
			                  <description></description>
			                  <caption></caption>
			                  <mimeType/>
			                  <notes/>
			                  <version/>
			                  <revision/>
			                  <createdBy></createdBy>
			                  <creationDate></creationDate>
			                  <lastModifiedBy></lastModifiedBy>
			                  <lastModificationDate></lastModificationDate>
			                </documentProperties>
			                <content>
			                  <model>
			                    <receiverdn></receiverdn>
			                    <processordn></processordn>
			                    <description></description>
			                    <hubname entity_id=""></hubname>
			                  </model>
			                  <backends>
			                    <backend entity_id="" top="" left="" height="" width="">
			                      <entities>
			                        <entity entity_id=""/>
			                        <complexrelations backendname=""/>
			                      </entities>
			                    </backend>
			                  </backends>
			                  <links>
			                    <link>
			                      <sod type="" entity_id=""></sod>
			                      <sodentity templatelocation="" entity_id=""></sodentity>
			                      <codentity templatelocation="" entity_id=""></codentity>
			                      <subscription>
			                        <direction></direction>
			                        <codtosod mapname="">
			                          <allowinserts></allowinserts>
			                          <publishertype publisher=""></publishertype>
			                          <ruleid/>
			                          <notifications>
			                            <cpcinbox enable=""/>
			                            <cpcprocessflow enable=""/>
			                          </notifications>
			                        </codtosod>
			                        <sodtocod mapname="">
			                          <allowinserts></allowinserts>
			                          <ruleid/>
			                          <mergemodel>
			                          </mergemodel>
			                          <notifications>
			                            <cpcprocessflow enable=""/>
			                            <cpcinbox enable=""/>
			                          </notifications>
			                        </sodtocod>
			                      </subscription>
			                      <download/>
			                    </link>
			                  </links>
			                </content>
			              </model>
					</OBJECT>
				</ENTITY>
			</new>
		</tuple>
	</template>
</binding-template>