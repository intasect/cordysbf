<binding-template>
	<imports>
		<template file="DecisionCase_Common.xml" template-id="common" destpath="tuple/old/ENTITY/OBJECT" />
	</imports>
	
	<beans>
		<bean beanid="default" class="com.cordys.coe.bf.content.types.coboc.folders.DecisionCase" />
	</beans>
	
	<handlers>
		<handler type="property" propname="bf-version" xmlpath="@bf-version"  />
		<handler type="bean" beanid="default" xmlpath="@key" fieldname="key"  />
		<handler type="bean" beanid="default" xmlpath="@name" fieldname="name"  />
		<handler type="bean" beanid="default" xmlpath="@entity_type" fieldname="templateId"  />
		<handler type="bean" beanid="default" xmlpath="old/ENTITY/PARENT_KEY" fieldname="parentKey"  />
		<handler type="bean" beanid="default" xmlpath="old/ENTITY/ORGANIZATION" fieldname="organization"  />
		<handler type="bean" beanid="default" xmlpath="old/ENTITY/OWNER" fieldname="owner"  />
		<handler type="bean" beanid="default" xmlpath="old/ENTITY/DESCRIPTION" fieldname="description"  />
		<handler type="bean" beanid="default" xmlpath="old/ENTITY/EVENT_FLAG" fieldname="eventFlag"  />
		<handler type="bean" beanid="default" xmlpath="old/ENTITY/HISTORY" fieldname="history"  />			
		<handler type="bean" beanid="default" xmlpath="old/ENTITY/TEMPLATE_ID" fieldname="templateId"  />	
		<import-handlers template-id="common" />
		
		<!-- Modifications for the common template -->
		<remove-handler xmlpath="old/ENTITY/OBJECT/DecisionCase/Source/@templateid" />
		<handler type="bean" beanid="dc-attribute" xmlpath="old/ENTITY/OBJECT/DecisionCase/AttributesList/Attribute/@TemplateID" fieldname="templateKey" />			
		<handler type="bean" beanid="dc-condition" xmlpath="old/ENTITY/OBJECT/DecisionCase/RuleGroup/Rule/Condition/ConditionTemplateId" fieldname="key" />			
		<handler type="bean" beanid="dc-condition" xmlpath="old/ENTITY/OBJECT/DecisionCase/RuleGroup/Rule/Condition/ConditionRepositoryId" fieldname="parentKey" />
		<handler type="bean" beanid="dc-action" xmlpath="old/ENTITY/OBJECT/DecisionCase/RuleGroup/Rule/Action/ActionDetails/ActionTemplateId" fieldname="key" />
		<handler type="bean" beanid="dc-action" xmlpath="old/ENTITY/OBJECT/DecisionCase/RuleGroup/Rule/Action/ActionDetails/ActionRepositoryId" fieldname="parentKey" />
		<remove-handler xmlpath="old/ENTITY/OBJECT/DecisionCase/RuleGroup/Rule/Action/ActionDetails/TemplateID" />
	</handlers>
	
	<template>
		<tuple key="" name="" level="organization" entity_type="" FILE_TYPE="decision-case" bf-version="">
			<old>
				<ENTITY>
					<PARENT_KEY></PARENT_KEY>
					<ORGANIZATION></ORGANIZATION>
					<OWNER></OWNER>
					<DESCRIPTION></DESCRIPTION>
					<EVENT_FLAG></EVENT_FLAG>
					<HISTORY></HISTORY>
					<TEMPLATE_ID></TEMPLATE_ID>
					<OBJECT>
					</OBJECT>
				</ENTITY>
			</old>
		</tuple>
	</template>
</binding-template>