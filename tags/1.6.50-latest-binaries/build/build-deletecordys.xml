<!-- 
	Contains targets for deleting content from BCP 
-->
<project name="deletecordys-project" default="deletecordys-all">
	<import file="${sdk.build.framework.dir}/content-filters.xml" />
	
	<!--
		Target for deleting content like roles, methodsets or menus 
		in the organization mentioned 
	-->
  	<target name="deletecordys-all" 
  			description="Deletes the contents from the sources">
  		<check-cordys-operation contenttype="all" operation="deletecordys" />
  		
    	<contentmanager
 	    	organization="${content.org}"
	    	userdn="${content.userdn}"
   			operation="delete"
   			filter="${content.filter}"
   			host="${ldap.server}"
	    	port="${ldap.port}"
	    	password="${ldap.password}"
	    	username="${ldap.user}"
   		>
   			<content type="roles" />
   			<content type="methodsets" />
   			<content type="applicationconnectors" />
   			<content type="styles" />
   			<content type="menus" />
  			<content type="toolbars" />
	   		<content type="xmlstore">
   				<patternset refid="xmlstore.content.filter" />
   			</content>
    		<content type="studio-bpms" dir="${src.content.studio.flows}">
				<patternset refid="studio.bpm.path.filter" />
			</content>
    		<content type="xforms" />
    		<content type="studio-xforms" dir="${src.content.studio.xforms}">
				<patternset refid="studio.xforms.path.filter" />
			</content>
    		<content type="${handler.xas}" />
    		<content type="${handler.coboc}" dir="${src.content.coboc.folders}">
				<patternset refid="coboc.folders.path.filter" />
			</content>
			<content type="xreports" dir="${src.content.xreports}">
   				<patternset refid="xreports.path.filter" />
   			</content>
    	</contentmanager>
  	</target>  
	
	<!--Target for deleting roles in the organization mentioned -->
  	<target name="deletecordys-roles" 
  			description="Deletes the contents from the sources">
  		<check-cordys-operation contenttype="roles" operation="deletecordys" />
  		
    	<contentmanager
 	    	organization="${content.org}"
	    	userdn="${content.userdn}"
   			operation="delete"
   			filter=""
   			host="${ldap.server}"
	    	port="${ldap.port}"
	    	password="${ldap.password}"
	    	username="${ldap.user}"
   		>
   			<content type="roles" />
    	</contentmanager>
  	</target>
	
	<!--Target for deleting users in the organization mentioned -->
  	<target name="deletecordys-users" 
  			description="Deletes the contents from the sources">
		<check-cordys-operation contenttype="users" operation="deletecordys" />
		
    	<contentmanager
 	    	organization="${content.org}"
	    	userdn="${content.userdn}"
   			operation="delete"
   			filter=""
   			host="${ldap.server}"
	    	port="${ldap.port}"
	    	password="${ldap.password}"
	    	username="${ldap.user}"
   		>
   			<content type="users" />
    	</contentmanager>
  	</target>
  	
  	<target name="deletecordys-xreports" 
  			description="Deletes the contents from the sources">
		<check-cordys-operation contenttype="xreports" operation="deletecordys" />
		
    	<contentmanager
 	    	organization="${content.org}"
	    	userdn="${content.userdn}"
   			operation="delete"
   			filter=""
   			host="${ldap.server}"
	    	port="${ldap.port}"
	    	password="${ldap.password}"
	    	username="${ldap.user}"
   		>
			<content type="xreports" dir="${src.content.xreports}">
   				<patternset refid="xreports.path.filter" />
   			</content>
    	</contentmanager>
  	</target>
	
	<!--Target for deleting methodsets in the organization mentioned -->
  	<target name="deletecordys-methodsets" 
  			description="Deletes the contents from the sources">
		<check-cordys-operation contenttype="methodsets" operation="deletecordys" />
   				
    	<contentmanager
 	    	organization="${content.org}"
	    	userdn="${content.userdn}"
   			operation="delete"
   			filter=""
   			host="${ldap.server}"
	    	port="${ldap.port}"
	    	password="${ldap.password}"
	    	username="${ldap.user}"
   		>
   			<content type="methodsets" />
    	</contentmanager>
  	</target>
  	
  	<!--Target for deleting localizations in the organization mentioned -->
  	<target name="deletecordys-localizations" 
  			description="Deletes the contents from the sources">
  		<check-cordys-operation contenttype="localizations" operation="deletecordys" />
  		
    	<contentmanager
 	    	organization="${content.org}"
	    	userdn="${content.userdn}"
   			operation="delete"
   			filter=""
   			host="${ldap.server}"
	    	port="${ldap.port}"
	    	password="${ldap.password}"
	    	username="${ldap.user}"
   		>
			<content type="localizations" dir="${src.content.localizations}">
				<patternset refid="localizations.path.filter.delete" />
			</content>
    	</contentmanager>
  	</target>

	<!--Target for deleting applicationconnectors in the organization mentioned -->
  	<target name="deletecordys-applicationconnectors" 
  			description="Deletes the contents from the sources">
		<check-cordys-operation contenttype="applicationconnectors" operation="deletecordys" />
	
    	<contentmanager
 	    	organization="${content.org}"
	    	userdn="${content.userdn}"
   			operation="delete"
   			filter=""
   			host="${ldap.server}"
	    	port="${ldap.port}"
	    	password="${ldap.password}"
	    	username="${ldap.user}"
   		>
   			<content type="applicationconnectors" />
    	</contentmanager>
  	</target>
	
	<!--Target for deleting styles in the organization mentioned -->
  	<target name="deletecordys-styles" 
  			description="Deletes the contents from the sources">
		<check-cordys-operation contenttype="styles" operation="deletecordys" />
  				
    	<contentmanager
 	    	organization="${content.org}"
	    	userdn="${content.userdn}"
   			operation="delete"
   			filter=""
   			host="${ldap.server}"
	    	port="${ldap.port}"
	    	password="${ldap.password}"
	    	username="${ldap.user}"
   		>
   			<content type="styles" />
    	</contentmanager>
  	</target>
	
	<!--Target for deleting menus in the organization mentioned -->
  	<target name="deletecordys-menus" 
  			description="Deletes the contents from the sources">
  		<check-cordys-operation contenttype="menus" operation="deletecordys" />
  		
    	<contentmanager
 	    	organization="${content.org}"
	    	userdn="${content.userdn}"
   			operation="delete"
   			filter=""
   			host="${ldap.server}"
	    	port="${ldap.port}"
	    	password="${ldap.password}"
	    	username="${ldap.user}"
   		>
   			<content type="menus" />
    	</contentmanager>
  	</target>
	
	<!--Target for deleting toolbars in the organization mentioned -->
  	<target name="deletecordys-toolbars" 
  			description="Deletes the contents from the sources">
		<check-cordys-operation contenttype="toolbars" operation="deletecordys" />
		
    	<contentmanager
 	    	organization="${content.org}"
	    	userdn="${content.userdn}"
   			operation="delete"
   			filter=""
   			host="${ldap.server}"
	    	port="${ldap.port}"
	    	password="${ldap.password}"
	    	username="${ldap.user}"
   		>
   			<content type="toolbars" />
    	</contentmanager>
  	</target>	
	
	<!--Target for deleting XMLStore XForms in the organization mentioned -->
  	<target name="deletecordys-xforms" 
  			description="Deletes the contents from the sources">
		<check-cordys-operation contenttype="xforms" operation="deletecordys" />
    		
    	<contentmanager
 	    	organization="${content.org}"
	    	userdn="${content.userdn}"
   			operation="delete"
   			filter=""
   			host="${ldap.server}"
	    	port="${ldap.port}"
	    	password="${ldap.password}"
	    	username="${ldap.user}"
   		>
   			<content type="xforms" />
			<content type="studio-xforms" />
    	</contentmanager>
  	</target>		

	<!--Target for deleting Studio BPM's in the organization mentioned -->
  	<target name="deletecordys-flows" 
		description="Deletes the Studio BPMS from the Cordys server."
	>
		<check-cordys-operation contenttype="flows" operation="deletecordys" />
				
		<contentmanager
			organization="${content.org}"
			userdn="${content.userdn}"
			operation="delete"
			filter=""
			host="${ldap.server}"
			port="${ldap.port}"
			password="${ldap.password}"
			username="${ldap.user}"
		>
			<content type="studio-bpms" dir="${src.content.studio.flows}">
				<patternset refid="studio.bpm.path.filter" />
			</content>
		</contentmanager>
	</target>		

	<!--Target for deleting xmlstore content in the organization mentioned -->
  	<target name="deletecordys-xmlstore" 
  			description="Deletes the contents from the sources">
		<check-cordys-operation contenttype="xmlstore" operation="deletecordys" />
  				
    	<contentmanager
 	    	organization="${content.org}"
	    	userdn="${content.userdn}"
   			operation="delete"
   			filter=""
   			host="${ldap.server}"
	    	port="${ldap.port}"
	    	password="${ldap.password}"
	    	username="${ldap.user}"
   		>
	   		<content type="xmlstore">
   				<patternset refid="xmlstore.content.filter" />
   			</content>	 
    	</contentmanager>
  	</target>

	<!-- 
		Target for deleting CoBOC content. 
	-->
	<target name="deletecordys-coboc" 
  			description="Deletes the CoBOC contents from the ECX">
		<check-cordys-operation contenttype="coboc" operation="deletecordys" />
  				
    	<contentmanager
 	    	organization="${content.org}"
	    	userdn="${content.userdn}"
   			operation="delete"
   			filter=""
   			host="${ldap.server}"
	    	port="${ldap.port}"
	    	password="${ldap.password}"
	    	username="${ldap.user}"
   		>
			<content type="${handler.coboc}" dir="${src.content.coboc.folders}">
				<patternset refid="coboc.folders.path.filter" />
			</content>
    	</contentmanager>
  	</target>	
	
	<!--Target for deleting all SOAP nodes under the organization -->
  	<target name="deletecordys-soapnodes" 
  			description="Delets all SOAP nodes under the organization">
		<check-cordys-operation contenttype="soapnodes" operation="deletecordys" />

    	<contentmanager
 	    	organization="${content.org}"
	    	userdn="${content.userdn}"
   			operation="delete"
   			filter=""
   			host="${ldap.server}"
	    	port="${ldap.port}"
	    	password="${ldap.password}"
	    	username="${ldap.user}"
   		>
    		<content type="soapnodes" />
    	</contentmanager>
  	</target>
	<target name="deletecordys-xas" 
		description="Deletes the XAS content from the Cordys server."
	>
		<check-cordys-operation contenttype="xas" operation="deletecordys" />

		<contentmanager
			organization="${content.org}"
			userdn="${content.userdn}"
			operation="delete"
			filter=""
			host="${ldap.server}"
			port="${ldap.port}"
			password="${ldap.password}"
			username="${ldap.user}"
		>
			<content type="${handler.xas}" />
		</contentmanager>
	</target>
</project>